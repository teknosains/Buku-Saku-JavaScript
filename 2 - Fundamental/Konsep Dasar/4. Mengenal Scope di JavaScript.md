# Mengenal Scope di JavaScript

Scope adalah salah satu konsep dasar yang harus diketahui sebelum lebih jauh belajar JavaScript. Scope ini sejatinya adalah _access_, yaitu lokasi dimana variable-variable dapat di akses dan tidak dapat di akses.

Memahami scope di JavaScript begitu penting karena dapat membantu kita menulis code yang lebih efisien, meminimalisir bugs dan bisa juga membantu kita membuat ```pure function```, yaitu function murni yang tidak bergantung kepada variable atau object lain yang ada diluar function tersebut. Kita akan lebih dalam mengenal ```pure function``` di pembahasan berikutnya mengenai Function.

Ada tiga scope utama di JavaScript yang wajib diketahui yaitu:

- ```Global scope```
- ```Local scope```
- ```Block scope```

### Global scope
Sebuah variable dikatakan berada di _Global scope_ jika di deklarasi diluar function atau block tertentu. Global scope ini juga berarti variable yang ada disana bisa diakses dimanapun script js kita bahkan di halaman web kita.

Misal kita punya sebuah file ```index.js``` yang isinya seperti berikut:

```javascript
let greeting = 'Hello world!';

// code yang lain
// code yang lain

console.log(greeting);

// Output: Hello world!

function sayHello() {
  console.log(greeting);
}

sayHello();

// Output: Hello world!
```

variable ```greeting``` diatas berada di global scope karenanya ia bersifat global, jadi bisa di akses dibaris manapun di file ```index.js``` tersebut.

Para pembuat browser sudah menyematkan global variable / object bernama ```window``` yang sering kita gunakan dan bisa di akses dimanapun dan di dalam file script js manapun.

Function-function seperti berikut ini sering kali digunakan dalam keseharian coding JavaScript nantinya.

```javascript
alert()
console.log()
setTimeout()
setInterval()
```
Function-function diatas adalah bagian dari object global ```window``` dan tersedia secara global. Jadi bisa di akses dimana saja
bahkan tanpa menuliskan object ```window``` nya khusus seperti berikut

```javascript
window.alert('hello');
window.console.log('hello);
```

cukup kita tulis seperti ini

```javascript
alert('hello');
console.log('hello);
```

### Local scope

Atau biasa disebut juga _Function scope_. Sebuah variable dikatakan berada di _Local scope_ jika di deklarasi didalam function tertentu. Jadi variable ini hanya bisa diakses didalam function tersebut.

contoh:

```javascript
function sayHello() {
  let greeting = 'Hello world!';
  console.log(greeting);
}
sayHello();

// Output: Hello world!
```

variable ```greeting``` diatas berada di _local scope_ jadi hanya bisa di akses didalam function ```sayHello()``` saja. Jika kita coba akses diluar function nya maka akan error.

```javascript
function sayHello() {
  let greeting = 'Hello world!';
}
console.log(greeting);
sayHello();

// ReferenceError: greeting is not defined
```

### Block scope

Sebuah variable dikatakan berada di _Block scope_ jika di deklarasi menggunakan ```let``` dan ```const``` dan berada didalam block  ```{ }```. Jadi variable ini hanya bisa diakses di dalam block tersebut.

contoh:

```javascript
let score = 70;

if (score >= 70) {
  let isPass = 'Yes';
  console.log(isPass);
}

// Output: Lulus
```

Jika kita coba akses ```isPass``` diluar kurawal ```{ }``` statement ```if``` nya, maka akan error. Karena variable ```isPass``` hanya bisa diakses di dalam block ```{ }``` ini.

```javascript
let score = 70;

if (score >= 70) {
  let isPass = 'Yes';
}
console.log(isPass);

// Output: ReferenceError: isPass is not defined
```

Lain hal jika kita menggunakan ```var```, karena ```var``` selalu bersifat _Local scope_ maka meski di deklarasi di dalam block ```{ }``` baik itu dalam ```if```, ```for```, ```while``` dll (kecuali dalam Function), maka dia akan di _hoisting_ alias diangkat ke atas oleh JavaScript.

contoh:

```javascript
let score = 70;

if (score >= 70) {
  var isPass = 'Yes';
}
console.log(isPass);

// Output: Yes
```

di belakang layar akan diubah menjadi

```javascript
var isPass; // di angkat / hoisted ke sini
let score = 70;

if (score >= 70) {
  isPass = 'Yes';
}
console.log(isPass);

// Output: Yes
```
Jadi variable ```isPass``` tetap bisa di akses diluar block ```{ }```. Oleh karena saat ini deklarasi variable disarankan menggunakan ```let``` atau ```const``` saja.

### Lexical scope (tambahan)

Sebuah variable dikatakan berada di _Lexical scope_ jika di deklarasi diluar function namun dapat di akses didalam function tersebut.

contoh:

```javascript

function checkScore() {
  let score = 70;
  
  function printScore() {
    console.log(score);
  }

  printScore();
}

checkScore();

// Output: 70
```

Cara membaca scope diatas adalah yaitu: 

- bagi function checkScore(), variable ```score``` berada di local scope-nya.
- namun bagi function printScore(), variable ```score``` berada di lexical scope-nya.

Dengan kata lain lexycal scope juga bisa diartikan yakni kemampuan sebuah function untuk dapat mengakses variable milik _parent_ nya.

```javascript
function parent() {
  let name = 'Agus';

  function child() {
    console.log('Budi bin ' + name);
  }

  child();
}

parent();

// Output: Budi bin Agus
```